# ============================================
#   GitHub Actions - è´ªåƒè›‡åŠ¨å›¾ç”Ÿæˆå™¨
#   è‡ªå®šä¹‰é…è‰²ç‰ˆæœ¬
# ============================================

name: Generate Snake Animation

# ==================== è§¦å‘æ¡ä»¶ ====================
on:
  # å®šæ—¶ä»»åŠ¡ï¼šæ¯å¤© UTC æ—¶é—´ 0 ç‚¹è¿è¡Œ
  schedule:
    - cron: "0 0 * * *"

  # å…è®¸æ‰‹åŠ¨è§¦å‘
  workflow_dispatch:

  # æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘
  push:
    branches:
      - main

# ==================== ä»»åŠ¡å®šä¹‰ ====================
jobs:
  generate:
    permissions:
      contents: write

    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      # æ­¥éª¤ 1: æ£€å‡ºä»£ç 
      - name: æ£€å‡ºä»“åº“ä»£ç 
        uses: actions/checkout@v3

      # æ­¥éª¤ 2: ç”Ÿæˆè´ªåƒè›‡åŠ¨å›¾
      - name: ç”Ÿæˆè´ªåƒè›‡è´¡çŒ®å›¾
        uses: Platane/snk/svg-only@v3
        with:
          github_user_name: ${{ github.repository_owner }}

          # ==================== é¢œè‰²é…ç½® ====================
          # é…è‰²æ–¹æ¡ˆï¼šé’è‰²éœ“è™¹è›‡ ğŸâœ¨
          #
          # é¢œè‰²è¯´æ˜ï¼š
          # - èƒŒæ™¯è‰²ï¼š     #0D1117 (æ·±è‰²èƒŒæ™¯)
          # - è›‡çš„é¢œè‰²ï¼š   #00E5FF (é’è‰²éœ“è™¹)
          # - æœå®é¢œè‰²ï¼š   #FF3B5C (ç²‰çº¢è‰²æœå®)
          # - è´¡çŒ®æ¸å˜ï¼š   ä»æµ…åˆ°æ·±çš„é’è‰²ç³»
          #
          # ä¿®æ”¹æ–¹æ³•ï¼š
          # color_snake   = è›‡çš„é¢œè‰²ï¼ˆå•ä¸€é¢œè‰²ï¼‰
          # color_dots    = è´¡çŒ®ç‚¹çš„é¢œè‰²ï¼ˆä»ä½åˆ°é«˜çš„æ¸å˜ï¼Œç”¨é€—å·åˆ†éš”ï¼‰
          # palette       = æ•´ä½“é…è‰²æ–¹æ¡ˆ
          # ================================================

          outputs: |
            dist/snake.svg?color_snake=#00E5FF&color_dots=#0D1117,#00B4D8,#0096C7,#0077B6,#023E8A
            dist/snake-dark.svg?palette=github-dark&color_snake=#00E5FF&color_dots=#161B22,#00B4D8,#0096C7,#0077B6,#023E8A
            dist/snake-light.svg?palette=github-light&color_snake=#00B4D8&color_dots=#F0F6FC,#90E0EF,#48CAE4,#00B4D8,#0077B6

        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      # æ­¥éª¤ 3: æ¨é€åˆ° output åˆ†æ”¯
      - name: æ¨é€åˆ° output åˆ†æ”¯
        uses: crazy-max/ghaction-github-pages@v3.1.0
        with:
          target_branch: output
          build_dir: dist
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

# ============================================
#   å¿«é€Ÿä¿®æ”¹é…è‰²æŒ‡å—
# ============================================
#
# 1. ä¿®æ”¹è›‡çš„é¢œè‰²ï¼š
#    æ‰¾åˆ° color_snake=#00E5FF
#    å°† #00E5FF æ›¿æ¢ä¸ºä½ æƒ³è¦çš„é¢œè‰²
#
# 2. ä¿®æ”¹è´¡çŒ®ç‚¹æ¸å˜ï¼š
#    æ‰¾åˆ° color_dots=#0D1117,#00B4D8,#0096C7,#0077B6,#023E8A
#    è¿™æ˜¯ä»"æ— è´¡çŒ®"åˆ°"é«˜è´¡çŒ®"çš„5ä¸ªé¢œè‰²
#    æŒ‰ç…§è¿™ä¸ªæ ¼å¼ä¿®æ”¹ï¼šcolor_dots=#é¢œè‰²1,#é¢œè‰²2,#é¢œè‰²3,#é¢œè‰²4,#é¢œè‰²5
#
# 3. é…è‰²å»ºè®®ï¼š
#    - ç¬¬ä¸€ä¸ªé¢œè‰²ï¼ˆ#0D1117ï¼‰ï¼šèƒŒæ™¯è‰²/æ— è´¡çŒ®
#    - ç¬¬äºŒä¸ªé¢œè‰²ï¼ˆ#00B4D8ï¼‰ï¼šå°‘é‡è´¡çŒ®
#    - ç¬¬ä¸‰ä¸ªé¢œè‰²ï¼ˆ#0096C7ï¼‰ï¼šä¸­ç­‰è´¡çŒ®
#    - ç¬¬å››ä¸ªé¢œè‰²ï¼ˆ#0077B6ï¼‰ï¼šè¾ƒå¤šè´¡çŒ®
#    - ç¬¬äº”ä¸ªé¢œè‰²ï¼ˆ#023E8Aï¼‰ï¼šå¤§é‡è´¡çŒ®
#
# 4. æ¨èé…è‰²ä¸»é¢˜ï¼š
#
#    ğŸ”¥ ç«ç„°çº¢ï¼ˆçƒ­æƒ…ï¼‰ï¼š
#    color_snake=#FF3B5C
#    color_dots=#0D1117,#FF6B6B,#FF5252,#FF3B5C,#E63946
#
#    ğŸ’œ æ·±ç´«è‰²ï¼ˆç¥ç§˜ï¼‰ï¼š
#    color_snake=#9D4EDD
#    color_dots=#0D1117,#C77DFF,#9D4EDD,#7B2CBF,#5A189A
#
#    ğŸŒŠ é’è‰²éœ“è™¹ï¼ˆå½“å‰ï¼‰ï¼š
#    color_snake=#00E5FF
#    color_dots=#0D1117,#00B4D8,#0096C7,#0077B6,#023E8A
#
#    ğŸŒ¿ ç¿ ç»¿è‰²ï¼ˆæ¸…æ–°ï¼‰ï¼š
#    color_snake=#00F5A0
#    color_dots=#0D1117,#52B788,#40916C,#2D6A4F,#1B4332
#
#    â­ é‡‘è‰²ï¼ˆå°Šè´µï¼‰ï¼š
#    color_snake=#FFD60A
#    color_dots=#0D1117,#FFD60A,#FFC300,#FFB000,#FF9500
#
# ============================================
#   ä½¿ç”¨è¯´æ˜
# ============================================
#
# 1. ä¸Šä¼ æ–‡ä»¶ï¼š
#    å°†æ­¤æ–‡ä»¶é‡å‘½åä¸º snake.yml
#    ä¸Šä¼ åˆ°ä»“åº“çš„ .github/workflows/ ç›®å½•
#
# 2. é¦–æ¬¡è¿è¡Œï¼š
#    è¿›å…¥ä»“åº“ â†’ Actions â†’ Generate Snake Animation
#    ç‚¹å‡» "Run workflow" â†’ é€‰æ‹© main åˆ†æ”¯ â†’ Run workflow
#
# 3. ä½¿ç”¨åŠ¨å›¾ï¼š
#    åœ¨ README.md ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼ˆæ›¿æ¢ YOUR_USERNAMEï¼‰ï¼š
#
#    ![Snake animation](https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_USERNAME/output/snake.svg)
#
# 4. æŸ¥çœ‹æ•ˆæœï¼š
#    ç­‰å¾… workflow è¿è¡Œå®Œæˆï¼ˆ1-2åˆ†é’Ÿï¼‰
#    åˆ·æ–° README æŸ¥çœ‹æ•ˆæœ
#
# ============================================
