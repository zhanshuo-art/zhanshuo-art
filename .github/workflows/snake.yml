name: Generate Snake Animation

# ==================== è§¦å‘æ¡ä»¶ ====================
on:
  # å®šæ—¶ä»»åŠ¡ï¼šæ¯å¤© UTC æ—¶é—´ 0 ç‚¹è¿è¡Œ
  schedule:
    - cron: "0 0 * * *"

  # å…è®¸æ‰‹åŠ¨è§¦å‘
  workflow_dispatch:

  # æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘
  push:
    branches:
      - main

# ==================== ä»»åŠ¡å®šä¹‰ ====================
jobs:
  generate:
    permissions:
      contents: write

    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      # æ­¥éª¤ 1: æ£€å‡ºä»£ç 
      - name: æ£€å‡ºä»“åº“ä»£ç 
        uses: actions/checkout@v3

      # æ­¥éª¤ 2: ç”Ÿæˆè´ªåƒè›‡åŠ¨å›¾
      # ï¼ˆæ³¨æ„ï¼šæŠŠé•¿æ³¨é‡Š/é…è‰²è¯´æ˜æ”¾åœ¨ with: ä¹‹å¤–ä»¥é¿å…è§£æé£é™©ï¼‰
      - name: ç”Ÿæˆè´ªåƒè›‡è´¡çŒ®å›¾
        uses: Platane/snk/svg-only@v3
        with:
          github_user_name: ${{ github.repository_owner }}
          outputs: |
            dist/snake.svg?color_snake=#0A2A43&color_dots=#EDEDED,#B8A4D4,#9D7FBF,#7B5FA7,#5A3D8F
            dist/snake-dark.svg?palette=github-dark&color_snake=#0A2A43&color_dots=#EDEDED,#B8A4D4,#9D7FBF,#7B5FA7,#5A3D8F
            dist/snake-light.svg?palette=github-light&color_snake=#0A2A43&color_dots=#EDEDED,#D4C5E8,#B8A4D4,#9D7FBF,#7B5FA7

        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      # æ­¥éª¤ 3: æ¨é€åˆ° output åˆ†æ”¯
      - name: æ¨é€åˆ° output åˆ†æ”¯
        uses: crazy-max/ghaction-github-pages@v3.1.0
        with:
          target_branch: output
          build_dir: dist
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

# ============================================
#   é…è‰²æ–¹æ¡ˆè¯´æ˜ï¼ˆæ³¨é‡Šæ”¾åˆ°æ–‡ä»¶å°¾éƒ¨ï¼Œä¾¿äºé˜…è¯»ï¼Œä¸åœ¨ with: å†…ï¼‰
# ============================================
#
# ğŸ¨ å½“å‰é…è‰²ï¼šå¤©è“è›‡ + ç´«è‰²æ¸å˜ï¼ˆä½†è›‡è‰²å·²æ›´æ¢ä¸ºæ·±è“ #0A1A3Aï¼‰
#
# è›‡çš„é¢œè‰²ï¼š
# #0A1A3A - æ·±å¤œè“ï¼ˆå·²æ›¿æ¢ï¼‰
#
# è´¡çŒ®ç‚¹æ¸å˜ï¼ˆç´«è‰²ç³»ï¼‰ï¼š
# #EDEDED - æµ…ç°ï¼ˆèƒŒæ™¯æ ¼å­ï¼‰
# #B8A4D4 - æ·¡ç´«è‰²
# #9D7FBF - æµ…ç´«è‰²
# #7B5FA7 - ä¸­ç´«è‰²
# #5A3D8F - æ·±ç´«è‰²
#
# ============================================

